<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/register.css">
    <script>
        var code;
        function createcode(){
            code = "";
            var codelength = 6;
            var checkCode = document.getElementById("checkcode");
            var selectChar = new Array(0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z');
            for(var i=0;i<codelength;i++){
                var charindex = Math.floor(Math.random()*36);/*数组selectChar的下标，随机选择下标为0-36中的某一个*/
                code +=selectChar[charindex];
            }
            if(checkCode){
                checkCode.value = code;
                checkCode.blur();
            }
        }
        function check(num,address,idcard){
            if(num==''){
                alert("不能为空")
            }
            else{
                var pattern =/^((13[0-9])|(15[0-9])|(18[0-9]))\d{8}/
                if(pattern.test(num)){
                    alert("yep")
                }
                else{
                    alert("nope")
                }
            }
            if(address==''){
                alert("不能为空")
            }
            else{
                var pat2 = /^(?:[0-9a-zA-Z_]+.)+@[0-9a-zA-Z]{1,13}\.[com,cn,net]{1,3}/
                if(pat2.test(address)){
                    alert("yeppp")
                }
                else{
                    alert("nopeeee")
                }
            }
            var inputcode = document.getElementById("yzm").value;
            if(inputcode.length <=0){
                alert("验证码不能为空")
            }
            else if(inputcode.toUpperCase() != code){
                alert("验证码输入错误")
            }
            else{
                alert("ok")
            }
            if(idcard==''){
                alert("身份证不能为空")
            }
            else{
                var pat3 = /^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/
                if(pat3.test(idcard)){
                    alert("身份证输入正确")
                }
                else{
                    alert("身份证输入错误")
                }
            }
        }

    </script>
</head>
<body>
    <div class="w">
        <div class="registerarea">
        <form action="reg" class="reg_form">
            <ul>
                <li><label>手机号：</label><input type="text" id="tel" required="required" autocomplete="on">  </li>
                <li><label>邮箱：</label><input type="email" id="email" autocomplete="on"></li>
                <li class="mima"><label>密码为：</label><input type="password" id="pwd"><a href="#"><img src="productimg/eye.jpg" height="33"
                                                                            width="33"/></a></li>
                <li><label>验证码：</label><input type="text" id="yzm"><input type="text" readonly="readonly" id="checkcode" onclick="createcode()" placeholder="点击生成验证码"></li>
                <li><label>身份证：</label><input type="text" id="sfz"></li>
            </ul>
            <input type="button" value="提交" class="btn" onclick="check(tel.value,email.value,sfz.value)">
        </form>
    </div>
    </div>
</body>
</html>
